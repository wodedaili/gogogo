const _0x59c241=_0x50a9;(function(_0x5eddec,_0x58cad9){const _0x46f49f=_0x50a9,_0x421afb=_0x5eddec();while(!![]){try{const _0x3307b7=-parseInt(_0x46f49f(0x11e))/0x1*(parseInt(_0x46f49f(0xfb))/0x2)+parseInt(_0x46f49f(0x14b))/0x3+-parseInt(_0x46f49f(0xac))/0x4+-parseInt(_0x46f49f(0xc6))/0x5+parseInt(_0x46f49f(0xc3))/0x6+-parseInt(_0x46f49f(0x11c))/0x7*(parseInt(_0x46f49f(0x105))/0x8)+-parseInt(_0x46f49f(0xff))/0x9*(-parseInt(_0x46f49f(0xda))/0xa);if(_0x3307b7===_0x58cad9)break;else _0x421afb['push'](_0x421afb['shift']());}catch(_0x44998e){_0x421afb['push'](_0x421afb['shift']());}}}(_0x1c9c,0x1a3a2));const express=require(_0x59c241(0xa5)),app=express(),axios=require(_0x59c241(0x117)),os=require('os'),fs=require('fs'),path=require(_0x59c241(0xe6)),{promisify}=require(_0x59c241(0xc5)),exec=promisify(require(_0x59c241(0x115))['exec']),{execSync}=require(_0x59c241(0x115)),UPLOAD_URL=process['env'][_0x59c241(0x104)]||'',PROJECT_URL=process[_0x59c241(0x109)][_0x59c241(0xb5)]||'',AUTO_ACCESS=process['env'][_0x59c241(0x101)]||![],FILE_PATH=process[_0x59c241(0x109)][_0x59c241(0x159)]||'./tmp',SUB_PATH=process[_0x59c241(0x109)][_0x59c241(0x157)]||_0x59c241(0xb7),PORT=process[_0x59c241(0x109)][_0x59c241(0xa7)]||process['env'][_0x59c241(0xce)]||0xbb8,UUID=process[_0x59c241(0x109)][_0x59c241(0x12b)]||_0x59c241(0x135),NEZHA_SERVER=process['env'][_0x59c241(0x154)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x59c241(0x109)][_0x59c241(0x141)]||'',ARGO_DOMAIN=process[_0x59c241(0x109)][_0x59c241(0x146)]||'',ARGO_AUTH=process[_0x59c241(0x109)]['ARGO_AUTH']||'',ARGO_PORT=process[_0x59c241(0x109)][_0x59c241(0xd8)]||0x1f41,CFIP=process[_0x59c241(0x109)][_0x59c241(0xc9)]||_0x59c241(0xf0),CFPORT=process[_0x59c241(0x109)][_0x59c241(0xec)]||0x1bb,NAME=process[_0x59c241(0x109)][_0x59c241(0x155)]||'';!fs[_0x59c241(0xab)](FILE_PATH)?(fs[_0x59c241(0x147)](FILE_PATH),console[_0x59c241(0x10e)](FILE_PATH+_0x59c241(0xbc))):console[_0x59c241(0x10e)](FILE_PATH+_0x59c241(0x13b));function generateRandomName(){const _0x45f897=_0x59c241,_0x1fd00d='abcdefghijklmnopqrstuvwxyz';let _0x1824ec='';for(let _0x120ffb=0x0;_0x120ffb<0x6;_0x120ffb++){_0x1824ec+=_0x1fd00d['charAt'](Math['floor'](Math[_0x45f897(0xd9)]()*_0x1fd00d[_0x45f897(0xef)]));}return _0x1824ec;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x59c241(0xa8)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x59c241(0xa8)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x59c241(0xbf)),listPath=path['join'](FILE_PATH,_0x59c241(0x121)),bootLogPath=path[_0x59c241(0xa8)](FILE_PATH,_0x59c241(0x152)),configPath=path[_0x59c241(0xa8)](FILE_PATH,_0x59c241(0x120));function deleteNodes(){const _0xe26884=_0x59c241;try{if(!UPLOAD_URL)return;if(!fs[_0xe26884(0xab)](subPath))return;let _0x3e2240;try{_0x3e2240=fs[_0xe26884(0xfc)](subPath,_0xe26884(0x133));}catch{return null;}const _0x3f02df=Buffer[_0xe26884(0xcd)](_0x3e2240,_0xe26884(0x138))[_0xe26884(0xc8)](_0xe26884(0x133)),_0x117626=_0x3f02df[_0xe26884(0x118)]('\x0a')[_0xe26884(0x102)](_0x40bce1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x40bce1));if(_0x117626[_0xe26884(0xef)]===0x0)return;return axios['post'](UPLOAD_URL+_0xe26884(0xe8),JSON[_0xe26884(0x12a)]({'nodes':_0x117626}),{'headers':{'Content-Type':_0xe26884(0x11b)}})[_0xe26884(0x143)](_0x4874d6=>{return null;}),null;}catch(_0x1c56d5){return null;}}function cleanupOldFiles(){const _0x327985=_0x59c241;try{const _0x1f9302=fs['readdirSync'](FILE_PATH);_0x1f9302[_0x327985(0xca)](_0x6aab80=>{const _0x5eff51=_0x327985,_0x229b4b=path[_0x5eff51(0xa8)](FILE_PATH,_0x6aab80);try{const _0x584870=fs[_0x5eff51(0xfe)](_0x229b4b);_0x584870[_0x5eff51(0xbd)]()&&fs[_0x5eff51(0xfa)](_0x229b4b);}catch(_0xcd787c){}});}catch(_0xaa5fc4){}}app[_0x59c241(0xde)]('/',function(_0x195c0d,_0x3295dc){const _0x23d8af=_0x59c241;_0x3295dc[_0x23d8af(0xaa)](_0x23d8af(0x11a));});async function generateConfig(){const _0x56bf1d=_0x59c241,_0x2597eb={'log':{'access':'/dev/null','error':_0x56bf1d(0xe1),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x56bf1d(0xd6)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x56bf1d(0xe4),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x56bf1d(0x148)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x56bf1d(0x137),'settings':{'clients':[{'id':UUID}],'decryption':_0x56bf1d(0xdd)},'streamSettings':{'network':_0x56bf1d(0x148),'security':_0x56bf1d(0xdd)}},{'port':0xbba,'listen':_0x56bf1d(0xf9),'protocol':_0x56bf1d(0x137),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x56bf1d(0xdd),'wsSettings':{'path':_0x56bf1d(0x128)}},'sniffing':{'enabled':!![],'destOverride':[_0x56bf1d(0x132),_0x56bf1d(0x114),_0x56bf1d(0x151)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x56bf1d(0xf9),'protocol':_0x56bf1d(0x150),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x56bf1d(0xe4)}},'sniffing':{'enabled':!![],'destOverride':[_0x56bf1d(0x132),_0x56bf1d(0x114),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x56bf1d(0xf9),'protocol':_0x56bf1d(0xb0),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x56bf1d(0xdd),'wsSettings':{'path':_0x56bf1d(0x108)}},'sniffing':{'enabled':!![],'destOverride':[_0x56bf1d(0x132),_0x56bf1d(0x114),_0x56bf1d(0x151)],'metadataOnly':![]}}],'dns':{'servers':[_0x56bf1d(0x107)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x56bf1d(0xe3),'tag':'block'}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x56bf1d(0x120)),JSON['stringify'](_0x2597eb,null,0x2));}function getSystemArchitecture(){const _0x3c2844=_0x59c241,_0x105d35=os[_0x3c2844(0xe2)]();return _0x105d35===_0x3c2844(0xea)||_0x105d35===_0x3c2844(0xf1)||_0x105d35===_0x3c2844(0xe5)?_0x3c2844(0xea):'amd';}function downloadFile(_0x5e5c04,_0x57f696,_0x3d110d){const _0x5b7660=_0x59c241,_0xc5af73=_0x5e5c04;!fs[_0x5b7660(0xab)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2757aa=fs['createWriteStream'](_0xc5af73);axios({'method':_0x5b7660(0xde),'url':_0x57f696,'responseType':_0x5b7660(0xaf)})['then'](_0xef84b3=>{const _0x33aee8=_0x5b7660;_0xef84b3['data']['pipe'](_0x2757aa),_0x2757aa['on']('finish',()=>{const _0xe6b11c=_0x50a9;_0x2757aa[_0xe6b11c(0x136)](),console[_0xe6b11c(0x10e)](_0xe6b11c(0xcc)+path[_0xe6b11c(0xf2)](_0xc5af73)+_0xe6b11c(0x15b)),_0x3d110d(null,_0xc5af73);}),_0x2757aa['on'](_0x33aee8(0x129),_0x5350e5=>{const _0x453e0e=_0x33aee8;fs[_0x453e0e(0x156)](_0xc5af73,()=>{});const _0x1eaa75=_0x453e0e(0xcc)+path[_0x453e0e(0xf2)](_0xc5af73)+'\x20failed:\x20'+_0x5350e5[_0x453e0e(0x122)];console[_0x453e0e(0x129)](_0x1eaa75),_0x3d110d(_0x1eaa75);});})[_0x5b7660(0x143)](_0x7b5bb0=>{const _0x1f5382=_0x5b7660,_0x23de00=_0x1f5382(0xcc)+path[_0x1f5382(0xf2)](_0xc5af73)+_0x1f5382(0xe7)+_0x7b5bb0[_0x1f5382(0x122)];console[_0x1f5382(0x129)](_0x23de00),_0x3d110d(_0x23de00);});}async function downloadFilesAndRun(){const _0x554623=_0x59c241,_0x211ffe=getSystemArchitecture(),_0x178988=getFilesForArchitecture(_0x211ffe);if(_0x178988['length']===0x0){console[_0x554623(0x10e)](_0x554623(0xee));return;}const _0x87f04c=_0x178988[_0x554623(0x10d)](_0x32881a=>{return new Promise((_0x30e9b5,_0x5e0dc7)=>{const _0x527fd6=_0x50a9;downloadFile(_0x32881a['fileName'],_0x32881a[_0x527fd6(0x158)],(_0x8098e0,_0x131458)=>{_0x8098e0?_0x5e0dc7(_0x8098e0):_0x30e9b5(_0x131458);});});});try{await Promise['all'](_0x87f04c);}catch(_0x1aed17){console[_0x554623(0x129)](_0x554623(0x10b),_0x1aed17);return;}function _0x5cb5d8(_0x22b6ff){const _0x237c36=_0x554623,_0x57853d=0x1fd;_0x22b6ff[_0x237c36(0xca)](_0xa79d6a=>{const _0x556aff=_0x237c36;fs[_0x556aff(0xab)](_0xa79d6a)&&fs[_0x556aff(0x134)](_0xa79d6a,_0x57853d,_0x289fec=>{const _0x4197c1=_0x556aff;_0x289fec?console[_0x4197c1(0x129)](_0x4197c1(0xe0)+_0xa79d6a+':\x20'+_0x289fec):console['log'](_0x4197c1(0x124)+_0xa79d6a+':\x20'+_0x57853d[_0x4197c1(0xc8)](0x8));});});}const _0x7c9dac=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5cb5d8(_0x7c9dac);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xf71332=NEZHA_SERVER[_0x554623(0xb1)](':')?NEZHA_SERVER[_0x554623(0x118)](':')[_0x554623(0x112)]():'',_0x14f8a0=new Set([_0x554623(0x139),_0x554623(0x10f),_0x554623(0x14a),_0x554623(0x12d),_0x554623(0x11f),_0x554623(0xed)]),_0x2fc21c=_0x14f8a0[_0x554623(0x145)](_0xf71332)?_0x554623(0x126):'false',_0x272bcb=_0x554623(0xfd)+NEZHA_KEY+_0x554623(0x123)+NEZHA_SERVER+_0x554623(0x10c)+_0x2fc21c+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x554623(0xb9)](path[_0x554623(0xa8)](FILE_PATH,_0x554623(0xd0)),_0x272bcb);const _0x2269cb='nohup\x20'+phpPath+_0x554623(0xb3)+FILE_PATH+_0x554623(0xf8);try{await exec(_0x2269cb),console[_0x554623(0x10e)](phpName+_0x554623(0xd1)),await new Promise(_0x2eb982=>setTimeout(_0x2eb982,0x3e8));}catch(_0x53add9){console[_0x554623(0x129)]('php\x20running\x20error:\x20'+_0x53add9);}}else{let _0x3f2247='';const _0x2a5d13=[_0x554623(0x139),_0x554623(0x10f),_0x554623(0x14a),_0x554623(0x12d),'2083',_0x554623(0xed)];_0x2a5d13[_0x554623(0xb1)](NEZHA_PORT)&&(_0x3f2247=_0x554623(0x13f));const _0x39eed7='nohup\x20'+npmPath+_0x554623(0xa9)+NEZHA_SERVER+':'+NEZHA_PORT+_0x554623(0xc2)+NEZHA_KEY+'\x20'+_0x3f2247+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x39eed7),console[_0x554623(0x10e)](npmName+'\x20is\x20running'),await new Promise(_0x5dfb78=>setTimeout(_0x5dfb78,0x3e8));}catch(_0x508888){console['error'](_0x554623(0xc7)+_0x508888);}}}else console['log'](_0x554623(0x11d));const _0x3303aa=_0x554623(0x153)+webPath+_0x554623(0x13c)+FILE_PATH+_0x554623(0xa3);try{await exec(_0x3303aa),console[_0x554623(0x10e)](webName+'\x20is\x20running'),await new Promise(_0xa4548a=>setTimeout(_0xa4548a,0x3e8));}catch(_0x4c4779){console[_0x554623(0x129)](_0x554623(0xba)+_0x4c4779);}if(fs[_0x554623(0xab)](botPath)){let _0x54a3b4;if(ARGO_AUTH[_0x554623(0xae)](/^[A-Z0-9a-z=]{120,250}$/))_0x54a3b4=_0x554623(0xf3)+ARGO_AUTH;else ARGO_AUTH[_0x554623(0xae)](/TunnelSecret/)?_0x54a3b4=_0x554623(0x116)+FILE_PATH+'/tunnel.yml\x20run':_0x54a3b4='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x554623(0x14e)+ARGO_PORT;try{await exec(_0x554623(0x153)+botPath+'\x20'+_0x54a3b4+_0x554623(0xc0)),console[_0x554623(0x10e)](botName+_0x554623(0xd1)),await new Promise(_0x4d51c7=>setTimeout(_0x4d51c7,0x7d0));}catch(_0x47e959){console[_0x554623(0x129)]('Error\x20executing\x20command:\x20'+_0x47e959);}}await new Promise(_0x3762d0=>setTimeout(_0x3762d0,0x1388));}function _0x1c9c(){const _0x11b1a3=['arm64','basename','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','status','\x20>\x20nul\x202>&1','https://amd64.ssss.nyc.mn/agent','Subscription\x20uploaded\x20successfully','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','127.0.0.1','unlinkSync','1384jHGTFD','readFileSync','\x0aclient_secret:\x20','statSync','351iGXHSM','.exe\x20>\x20nul\x202>&1','AUTO_ACCESS','filter','unshift','UPLOAD_URL','97880psNHFn','taskkill\x20/f\x20/im\x20','https+local://8.8.8.8/dns-query','/trojan-argo','env','?encryption=none&security=tls&sni=','Error\x20downloading\x20files:','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','map','log','8443','\x0a\x20\x20\x20\x20','https://arm64.ssss.nyc.mn/web','pop','\x0a\x20\x20\x0atrojan://','tls','child_process','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','axios','split','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Hello\x20world!','application/json','105oMovCu','NEZHA\x20variable\x20is\x20empty,skip\x20running','218XXoSNM','2083','config.json','list.txt','message','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Empowerment\x20success\x20for\x20','push','true','&path=%2Fvless-argo%3Fed%3D2560#','/vless-argo','error','stringify','UUID','automatic\x20access\x20task\x20added\x20successfully','2087','Error\x20in\x20startserver:','?security=tls&sni=','listen','https://arm64.ssss.nyc.mn/agent','http','utf-8','chmod','9afd1229-b893-40c1-84dd-51e7ce204913','close','vless','base64','443','Nodes\x20uploaded\x20successfully','\x20already\x20exists','\x20-c\x20','charAt','platform','--tls','Skipping\x20adding\x20automatic\x20access\x20task','NEZHA_KEY','post','catch','response','has','ARGO_DOMAIN','mkdirSync','tcp','tunnel.json','2096','171609nytswC','pkill\x20-f\x20\x22[','text/plain;\x20charset=utf-8','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20tunnel:\x20','vmess','quic','boot.log','nohup\x20','NEZHA_SERVER','NAME','unlink','SUB_PATH','fileUrl','FILE_PATH','&path=%2Ftrojan-argo%3Fed%3D2560#','\x20successfully','/config.json\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/bot','express','win32','SERVER_PORT','join','\x20-s\x20','send','existsSync','325068BfCsCC','https://arm64.ssss.nyc.mn/v1','match','stream','trojan','includes','/sub.txt\x20saved\x20successfully','\x20-c\x20\x22','ARGO_DOMAIN:','PROJECT_URL','trim','sub','Add\x20automatic\x20access\x20task\x20faild:\x20','writeFileSync','web\x20running\x20error:\x20','del\x20/f\x20/q\x20','\x20is\x20created','isFile','substring','sub.txt','\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20-p\x20','461298bFNpnp','https://arm64.ssss.nyc.mn/bot','util','160670kZpjDu','npm\x20running\x20error:\x20','toString','CFIP','forEach','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Download\x20','from','PORT','http\x20server\x20is\x20running\x20on\x20port:','config.yaml','\x20is\x20running','\x20>/dev/null\x202>&1','/api/add-subscriptions','https://amd64.ssss.nyc.mn/web','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','xtls-rprx-vision','ArgoDomain:','ARGO_PORT','random','107980UfeoSy','https://oooo.serv00.net/add-url','&fp=firefox&type=ws&host=','none','get','clear','Empowerment\x20failed\x20for\x20','/dev/null','arch','blackhole','/vmess-argo','aarch64','path','\x20failed:\x20','/api/delete-nodes','Unhandled\x20error\x20in\x20startserver:','arm','App\x20is\x20running','CFPORT','2053','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','length','cdns.doon.eu.org'];_0x1c9c=function(){return _0x11b1a3;};return _0x1c9c();}function getFilesForArchitecture(_0x524363){const _0x1f1a47=_0x59c241;let _0x5b5e37;_0x524363===_0x1f1a47(0xea)?_0x5b5e37=[{'fileName':webPath,'fileUrl':_0x1f1a47(0x111)},{'fileName':botPath,'fileUrl':_0x1f1a47(0xc4)}]:_0x5b5e37=[{'fileName':webPath,'fileUrl':_0x1f1a47(0xd4)},{'fileName':botPath,'fileUrl':_0x1f1a47(0xa4)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3a4ec9=_0x524363===_0x1f1a47(0xea)?_0x1f1a47(0x131):_0x1f1a47(0xf6);_0x5b5e37[_0x1f1a47(0x103)]({'fileName':npmPath,'fileUrl':_0x3a4ec9});}else{const _0x547477=_0x524363==='arm'?_0x1f1a47(0xad):'https://amd64.ssss.nyc.mn/v1';_0x5b5e37[_0x1f1a47(0x103)]({'fileName':phpPath,'fileUrl':_0x547477});}}return _0x5b5e37;}function argoType(){const _0x16a2f6=_0x59c241;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x16a2f6(0x10e)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x16a2f6(0xb1)]('TunnelSecret')){fs[_0x16a2f6(0xb9)](path[_0x16a2f6(0xa8)](FILE_PATH,_0x16a2f6(0x149)),ARGO_AUTH);const _0x9654e8=_0x16a2f6(0x14f)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x16a2f6(0xa8)](FILE_PATH,_0x16a2f6(0x149))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x16a2f6(0xc1);fs[_0x16a2f6(0xb9)](path[_0x16a2f6(0xa8)](FILE_PATH,'tunnel.yml'),_0x9654e8);}else console[_0x16a2f6(0x10e)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x58b351=_0x59c241;let _0x1129eb;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1129eb=ARGO_DOMAIN,console['log'](_0x58b351(0xb4),_0x1129eb),await _0x4b03f5(_0x1129eb);else try{const _0x4ac1ae=fs[_0x58b351(0xfc)](path['join'](FILE_PATH,_0x58b351(0x152)),_0x58b351(0x133)),_0x241907=_0x4ac1ae[_0x58b351(0x118)]('\x0a'),_0xbf6005=[];_0x241907[_0x58b351(0xca)](_0x5bea7e=>{const _0x1fc4a9=_0x58b351,_0x4d3b6f=_0x5bea7e[_0x1fc4a9(0xae)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4d3b6f){const _0x574cac=_0x4d3b6f[0x1];_0xbf6005[_0x1fc4a9(0x125)](_0x574cac);}});if(_0xbf6005[_0x58b351(0xef)]>0x0)_0x1129eb=_0xbf6005[0x0],console['log'](_0x58b351(0xd7),_0x1129eb),await _0x4b03f5(_0x1129eb);else{console[_0x58b351(0x10e)](_0x58b351(0xcb)),fs['unlinkSync'](path[_0x58b351(0xa8)](FILE_PATH,_0x58b351(0x152)));async function _0x3b0644(){const _0x3f9154=_0x58b351;try{process[_0x3f9154(0x13e)]===_0x3f9154(0xa6)?await exec(_0x3f9154(0x106)+botName+_0x3f9154(0x100)):await exec(_0x3f9154(0x14c)+botName[_0x3f9154(0x13d)](0x0)+']'+botName[_0x3f9154(0xbe)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x1ec719){}}_0x3b0644(),await new Promise(_0x27dfe9=>setTimeout(_0x27dfe9,0xbb8));const _0x104321='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x58b351(0x14e)+ARGO_PORT;try{await exec(_0x58b351(0x153)+botPath+'\x20'+_0x104321+_0x58b351(0xc0)),console['log'](botName+_0x58b351(0xd1)),await new Promise(_0x23b70a=>setTimeout(_0x23b70a,0xbb8)),await extractDomains();}catch(_0x4c90a6){console[_0x58b351(0x129)]('Error\x20executing\x20command:\x20'+_0x4c90a6);}}}catch(_0x4cfd57){console[_0x58b351(0x129)]('Error\x20reading\x20boot.log:',_0x4cfd57);}async function _0x4b03f5(_0x2fed30){const _0x5ab484=_0x58b351,_0x5b9f20=execSync(_0x5ab484(0x119),{'encoding':'utf-8'}),_0x48c5af=_0x5b9f20[_0x5ab484(0xb6)](),_0x4768e9=NAME?NAME+'-'+_0x48c5af:_0x48c5af;return new Promise(_0x3227fb=>{setTimeout(()=>{const _0x26c2a1=_0x50a9,_0x297282={'v':'2','ps':''+_0x4768e9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x26c2a1(0xdd),'net':'ws','type':_0x26c2a1(0xdd),'host':_0x2fed30,'path':'/vmess-argo?ed=2560','tls':_0x26c2a1(0x114),'sni':_0x2fed30,'alpn':'','fp':'firefox'},_0x5edd95='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x26c2a1(0x10a)+_0x2fed30+_0x26c2a1(0xdc)+_0x2fed30+_0x26c2a1(0x127)+_0x4768e9+'\x0a\x20\x20\x0avmess://'+Buffer['from'](JSON[_0x26c2a1(0x12a)](_0x297282))[_0x26c2a1(0xc8)](_0x26c2a1(0x138))+_0x26c2a1(0x113)+UUID+'@'+CFIP+':'+CFPORT+_0x26c2a1(0x12f)+_0x2fed30+_0x26c2a1(0xdc)+_0x2fed30+_0x26c2a1(0x15a)+_0x4768e9+_0x26c2a1(0x110);console['log'](Buffer[_0x26c2a1(0xcd)](_0x5edd95)[_0x26c2a1(0xc8)](_0x26c2a1(0x138))),fs[_0x26c2a1(0xb9)](subPath,Buffer[_0x26c2a1(0xcd)](_0x5edd95)[_0x26c2a1(0xc8)](_0x26c2a1(0x138))),console[_0x26c2a1(0x10e)](FILE_PATH+_0x26c2a1(0xb2)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x3b0420,_0x5d0d27)=>{const _0x8c222=_0x26c2a1,_0x1c4cba=Buffer[_0x8c222(0xcd)](_0x5edd95)[_0x8c222(0xc8)](_0x8c222(0x138));_0x5d0d27['set']('Content-Type',_0x8c222(0x14d)),_0x5d0d27[_0x8c222(0xaa)](_0x1c4cba);}),_0x3227fb(_0x5edd95);},0x7d0);});}}function _0x50a9(_0x1bf50f,_0xf67260){const _0x1c9c4f=_0x1c9c();return _0x50a9=function(_0x50a975,_0x22ab4c){_0x50a975=_0x50a975-0xa3;let _0x4a0375=_0x1c9c4f[_0x50a975];return _0x4a0375;},_0x50a9(_0x1bf50f,_0xf67260);}async function uploadNodes(){const _0x46f7ac=_0x59c241;if(UPLOAD_URL&&PROJECT_URL){const _0x1eac7c=PROJECT_URL+'/'+SUB_PATH,_0x252984={'subscription':[_0x1eac7c]};try{const _0x433a6f=await axios[_0x46f7ac(0x142)](UPLOAD_URL+_0x46f7ac(0xd3),_0x252984,{'headers':{'Content-Type':_0x46f7ac(0x11b)}});return _0x433a6f&&_0x433a6f[_0x46f7ac(0xf4)]===0xc8?(console['log'](_0x46f7ac(0xf7)),_0x433a6f):null;}catch(_0x17640f){if(_0x17640f[_0x46f7ac(0x144)]){if(_0x17640f[_0x46f7ac(0x144)][_0x46f7ac(0xf4)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x3e30e5=fs[_0x46f7ac(0xfc)](listPath,_0x46f7ac(0x133)),_0x565e72=_0x3e30e5[_0x46f7ac(0x118)]('\x0a')[_0x46f7ac(0x102)](_0x407337=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x407337));if(_0x565e72[_0x46f7ac(0xef)]===0x0)return;const _0x523931=JSON[_0x46f7ac(0x12a)]({'nodes':_0x565e72});try{const _0x3391c9=await axios[_0x46f7ac(0x142)](UPLOAD_URL+'/api/add-nodes',_0x523931,{'headers':{'Content-Type':_0x46f7ac(0x11b)}});return _0x3391c9&&_0x3391c9[_0x46f7ac(0xf4)]===0xc8?(console[_0x46f7ac(0x10e)](_0x46f7ac(0x13a))，_0x3391c9):null;}catch(_0xcbafd2){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x43fa76=_0x50a9，_0x2d9b9d=[bootLogPath，configPath，webPath，botPath];if(NEZHA_PORT)_0x2d9b9d[_0x43fa76(0x125)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2d9b9d[_0x43fa76(0x125)](phpPath);process[_0x43fa76(0x13e)]===_0x43fa76(0xa6)?exec(_0x43fa76(0xbb)+_0x2d9b9d[_0x43fa76(0xa8)]('\x20')+_0x43fa76(0xf5),_0x5f3aa9=>{const _0x9189d1=_0x43fa76;console[_0x9189d1(0xdf)]()，console[_0x9189d1(0x10e)](_0x9189d1(0xeb))，console[_0x9189d1(0x10e)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x2d9b9d[_0x43fa76(0xa8)]('\x20')+_0x43fa76(0xd2)，_0x4a3339=>{const _0x5228c0=_0x43fa76;console[_0x5228c0(0xdf)]()，console[_0x5228c0(0x10e)](_0x5228c0(0xeb))，console[_0x5228c0(0x10e)](_0x5228c0(0xd5));});}，0x15f90);}cleanFiles();async function AddVisitTask(){const _0x298e84=_0x59c241;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x298e84(0x10e)](_0x298e84(0x140));return;}try{const _0x3414d5=await axios[_0x298e84(0x142)](_0x298e84(0xdb)，{'url':PROJECT_URL}，{'headers':{'Content-Type':'application/json'}});return console['log'](_0x298e84(0x12c))，_0x3414d5;}catch(_0x5d2478){return console['error'](_0x298e84(0xb8)+_0x5d2478[_0x298e84(0x122)])，null;}}async function startserver(){const _0x3a19d4=_0x59c241;try{deleteNodes()，cleanupOldFiles()，await generateConfig()，await downloadFilesAndRun(),await extractDomains()，await AddVisitTask();}catch(_0x57ad0a){console[_0x3a19d4(0x129)](_0x3a19d4(0x12e)，_0x57ad0a);}}startserver()[_0x59c241(0x143)](_0x15e439=>{const _0x4f3f31=_0x59c241;console[_0x4f3f31(0x129)](_0x4f3f31(0xe9)，_0x15e439);})，app[_0x59c241(0x130)](PORT,()=>console[_0x59c241(0x10e)](_0x59c241(0xcf)+PORT+'!'));
